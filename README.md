# Fundamental SERVER CONTROL PANEL

## WEB CONTROL PANEL 


### I. Định Nghĩa:

  1. **Là gì?**

  2. **DirectAdmin**

  3. **aaPanel**

  4. **CyberPanel**

  5. **Vesta Control Panel**

### II. Chức năng chính:

  1. **Giới hạn User/Group**
  
  2. **Webserver mặc định**
  
  3. **File Manager - FTP**
  
  4. **MultiPHP**
  
  5. **DNS**
  
  6. **Email**
  
  7. **Free SSL**
  
  8. **MySQL + PHPMyAdmin**
  
  9. **Backup - Restore**
  
  10. **Mornitor - Logs**
  
  11. **Security**
  
  12. **More Plugins**

---


### I. Định Nghĩa:

  1. **Là gì?**

     - WebPanel là một giao diện dùng để quản lý các dịch vụ Web như: Hosting, tên miền, email, cơ sỏ dữ liệu và các dịch vụ khác trên máy chủ. Nó cung cấp một môi trường đơn giản và thân thiện người dùng thay vì phải sử dụng các dòng lệnh.

  2. **DirectAdmin**

      - **Đặc điểm chính:**

        + Administrator features:
       
          1. **Create / Modify Admins and Resellers**

          2. **Reseller Packages**

          3. **Show All Users**

          4. **DNS Administrator**

          5. **IP Manager**

          6. **Mail Queue Admistrator**

          7. **System / Service Info**

          8. **Complete Usage Statistics**

          9. **DNS Clustering**

          10. **SPAM Fighting tools in DirectAdmin**

          11. **Licensing / Updates**
        
         
        + Reseller features:

          1. **Create / List / Modify Accounts**

          2. **User Packages**

          3. **Reseller Statistics**

          4. **Message All Users**

          5. **Import / Manage Skins**

          6. **IP Assignment**

          7. **System / Services Information**

          8. **Name Servers**

        + User features:

          1. **E-mail Administrator**

          2. **FTP Management**

          3. **DNS Menu**

          4. **Statistics Menu**

          5. **Subdomains Menu**

          6. **File Manager**

          7. **MySQL Databases**

          8. **Site Backup**

          9. **Error Pages**

          10. **Directory Password Protection**

          11. **PHP Selector**

          12. **Advanced Tools**

        + General features:

          1. **Intergrated Ticket Support System**

          2. **Two-Factor Authentication**

          3. **Plugin System**

          4. **Live Updates**

          5. **Completely Customizable**

          6. **Automatic Recovery From Crashes**

          7. **We Support Your Customers Through Site-Helper**
           

      - **Ưu và nhược điểm:**
  
        ***Ưu điểm:***

        + Giao diện quản lý đầy đủ và chuyên nghiệp, phù hợp với người dùng có kinh nghiệp.
        
        + Cung cấp các tính năng nâng cao như quản lý email, cơ sở dữ liệu, bảo mật.

        + Hỗ trợ nhiều hệ điều hành như Linux, Windows.

        ***Nhược điểm:***

        + Phải trả phí sử dụng, chi phí cao hơn so với các WebPanel miễn phí.

        + Có thể hơi phức tạp đối với người dùng mới bắt đầu.
      
  4. **aaPanel**
      
      - **Đặc điểm chính:**

        + Website management: Create a management website through the panel, and complete various configurations easily and symply
       
          1. **Website overview**

          2. **Create website**

          3. **Domain Manager**

          4. **Website path**

          5. **Limit access**

          6. **Traffic control**

          7. **URL rewrite**

          8. **SSL apply**

          9. **PHP manager**

          10. **Composer**

          11. **Redirect**

          12. **Reverse proxy**

          13. **Hotlink Protection**

          14. **Response log**

        + Database management: One-click to create, set, backup, restore database

          1. **Database list**

          2. **Add database**

          3. **Root password manager**

          4. **Import database**

          5. **Permissions**

          6. **Database tools**

        + File manager

          1. **File list**

          2. **Upload**

          3. **Download**

          4. **Search file content**

          5. **Permissions**

          6. **Compress**

          7. **Decompress**

          8. **Share**


        + App Store

          1. **Deployment**

          2. **System Tools**

          3. **Plug-ins**

          4. **Plug-ins**

          5. **Third-part Plug-ins**

      - **Ưu và nhược điểm:**
  
        ***Ưu điểm:***

        + Hoàn toàn miễn phí, dễ sử dụng, giao diện thân thiện.
       
        + Phù hợp với người dùng mới bắt đầu quản lý máy chủ web.
       
        + Cung cấp các tính năng quản lý cơ bản như quản lý hosting, cơ sở dữ liệu.


        ***Nhược điểm:***

        + Tính năng hạn chế không phù hợp cho các yêu cầu quản lý nâng cao.
       
        + Chỉ hỗ trợ Linux, không hỗ trợ Windows.
       
     
  6. **CyberPanel**

      - **Đặc điểm chính:**

        + Website management: Create a management website through the panel, and complete various configurations easily and symply
       
          1. **Trouble shooting**

          2. **Install / Update**

          3. **Website**

          4. **Backups**

          5. **WordPress Manager**

          6. **Database**

          7. **Security**

          8. **Managing SSL**

          9. **DNS**

          10. **Email**

          11. **FTP**

          12. **Contentrization**

          13. **CyberPanel Features**

          14. **Dashboard**

          15. **User**

          16. **Support**

          17. **Docker Apps**



      - **Ưu và nhược điểm:**
  
        ***Ưu điểm:***

        + Miễn phí, giao diện đẹp mắt và direct.

        + Cung cấp nhiều tính năng nâng cao như quản lý email, tối ưu hóa website.
       
        + Hỗ trợ LiteSpeed Web Server với hiệu suất cao.

        ***Nhược điểm:***

        + Giao diện có hơi phức tạp đối với người dùng mới.
       
        + Một số tính năng nâng cao yêu cầu phải mua bản quyền.
          
      
  8. **Vesta Control Panel**

      - **Đặc điểm chính:**

        + Website management: Create a management website through the panel, and complete various configurations easily and symply
       
          1. **User**
          2. **Web**
          3. **DNS**
          4. **E-Mail**
          5. **Database**
          6. **CRON**
          7. **Backups**
          8. **Packages**
          9. **IP**
          10. **Graphs**
          11. **Statistics**
          12. **Log**
          13. **Updates**
          14. **Firewall**
          15. **File Manager**
          16. **Server**

      - **Ưu và nhược điểm:**
  
        ***Ưu điểm:***
        
        + Hoàn toàn miễn phí, giao diện đơn giản và dễ sử dụng.
       
        + Phù hợp với các máy chủ web quy mô nhỏ, không đòi hỏi nhiều tính năng nâng cao.

        ***Nhược điểm:***

        + Tính năng hạn chế, không phù hợp cho các yêu cầu quản lý phức tạp.
       
        + Chỉ hỗ trợ Linux, không có phiên bản Windows.
          


### II. Chức năng chính:

  1. **Giới hạn User/Group**
  
  2. **Webserver mặc định**
  
  3. **File Manager - FTP**
  
  4. **MultiPHP**
  
  5. **DNS**
  
  6. **Email**
  
  7. **Free SSL**
  
  8. **MySQL + PHPMyAdmin**
  
  9. **Backup - Restore**
  
  10. **Mornitor - Logs**
  
  11. **Security**
  
  12. **More Plugins**
     





##cPANEL

Công cụ quản trị web hosting này có giao diện thân thiện với người dùng và hoạt động trên hệ thống phân cấp ba lớp như sau:

- Hosting company (Nhà cung cấp dịch vụ hosting).

- Reseller.

- End User (Người dùng cuối).

`Hosting company` và `Reseller` sử dụng giao diện tương tự có tên là web host manager(WHM) – Trình quản lý máy chủ web (WHM) trong đó hosting company có quyền quản trị cao nhất và có thể hạn chế quyền truy cập vào một số tính năng nhất định trong Reseller WHM. End user có quyền truy cập trực tiếp vào cPanel interface nơi họ có thể thực hiện một loạt các tác vụ cho trang web của mình.

Ngoài ra, `cPanel` cũng có khả năng cho phép các nhà cung cấp bên thứ 3 tích hợp dịch vụ của họ vào để khách hàng có thể sử dụng dịch vụ ngay trong giao diện cPanel. Công cụ quản trị web hosting này có thể sử dụng trên máy chủ vật lý hoặc máy chủ ảo (VPS) sử dụng hệ điều hành CentOS, RedHat Enterprise Linux, CloudLinux hoặc FreeBSD. cPanel hỗ trợ Apache , MySQL và PHP cũng như các giao thức email phổ biến bao gồm POP3, IMAP và SMTP. End user sẽ sử dụng hosting cPanel bằng cách truy cập qua cổng 2083.

###########3
##############
WHM(Website Hosting Manager)
##############
#############

Đổi Primary domain 

    Cho phép tên miền chính hosting của bạn thay đổi sang một tên miền khác

Migrate va transfer

    Migrate cho phép di chuyển một tài khoản hosting từ máy chủ hosting này sang một máy chủ hosting khác
    Transfer: cho phép di chuyển giao một tài khoản hosting này sang  một tài khoản hosting khác

Terminal

    Reload hosting
    Check domlogs
    Check process đang chạy của một user

Kiểm tra hosting được kết nối với mail relay server bằng port nào?
    
    Bảo mật email 
    Cấu hình Email
    Giải quyết sự cố trên Email
    Tuân thủ và quy định
    Theo dõi và phân tích hoạt động của Email


Tìm add-on domain đang thuộc User nào?
    
    Quản lý tài khoản người dùng:
    Bảo mật và tuân thủ:
    Phân tích sử dụng tài nguyên:
    Hỗ trợ người dùng:
    Thanh toán và lập hóa đơn:

PHP X-ray:

    Check function nào tốn nhiều thời gian chạy nhất


cPanel is a Linux-based web hosting control panel, designed to automate the processes involved with running a web server.

A few of the core web hosting processes that are automated via the cPanel software are:

    - Server Security
    - Domain & DNS
    - Email Handling
    - File Transfer & Management
    - Database Handling
    - Logging

cPanel & WHM allows hosting providers and users the ability to automate server management tasks while offering your customers the tools they need to manage their sites. One of our older, but still very relevant videos does a great job of explaining how cPanel & WHM benefit the web hosting industry.

cPanel is one of the most popular Linux-based control panels for web hosting. It lets you conveniently manage all services in a single place. 

Currently, cPanel is the industry standard, and most web developers are well-acquainted with it.

Intuitive and easy to use, cPanel empowers you to manage a web hosting account with maximum efficiency, whether that’s creating new FTP users and email addresses or monitoring resources, creating subdomains and installing the software.


What it means

So now we know what cPanel is - but what exactly does it mean to be a web hosting control panel? As the video in the last unit mentions, one of cPanel’s goals has always been to make web hosting accessible to everyone. 

This works by making administration tasks simple and by allowing for self-sufficiency. Where in the past, users would constantly need to request assistance from the server administrator to make any adjustments to their accounts or environment, cPanel allows users to do it themselves.

This means that administrators can focus on making sure that the server is stable and working smoothly, while the users have the freedom and flexibility to establish a web hosting environment that’s best for them, additionally allowing for the administrator (and/or resellers) to define constraints and restrictions as needed.

A simple click of the button now performs the tasks that might have originally taken hours.

Here’s an example:

To add a new website, one of the things you would need to do on a server is to create something called a VirtualHost entry, by manually adding it into a configuration file on the server. 

This involved understanding the syntax of that configuration file, and constructing values to represent each option you needed to define. This needed to be done independently for SSL and non-SSL access.

With cPanel, this all takes place automatically.

When a user creates a domain, the configurations are updated automatically, including backups (just in case). 

The server administrator doesn’t even need to be involved for this to happen. The end-user, or web hosting customer, then fills out a simple form within their own personal cPanel interface, after which point they can simply click a button.


\Why do we need one?
Why do we need a control panel?

Want an honest answer? We don't need them.

We do, however, want them.

Like almost all innovation in technology, humans want to make things easier, more efficient, and just plain faster. We created the remote control so we didn’t have to get off of the couch. 

We all bought microwaves so we wouldn’t have to wait so long for food to cook. We created cars because horses and walking were just too slow.

it goes a little deeper than that with control panels, however, and even with computing in general.

cPanel (and control panels in general) automates processes so that web hosting becomes simpler. 

This, in turn, makes web hosting realistic for a wider range of people to have access to, regardless of income or skill level.

This applies not only to web hosting customers, but also web hosts themselves, because they are now able to administer their servers, and as a result their company, using a simple, unified, and automated graphical interface.

What can I do with cPanel?

Now, hopefully, you have a better picture of the role that control panels and cPanel have when it comes to the internet. You might even feel ready to dive into your own cPanel interface, but if you want to be equipped to make the most of it, you’ll need to know what you can actually do.

There’s a LOT you can do with cPanel, even with minimal feature access. In fact, there’s so much you can do that we can’t possibly cover it all in one simple introduction unit. Later on, you will learn more about those features in the Administration Tier 2 cPanel Essentials certification course. The course is comprised of videos that provide coverage of many available features in the cPanel interface.

In addition to the training videos in Tier 2, cPanel has many video tutorials, documentation, and interface overviews. When you're going through our training courses, feel free to supplement by exploring the content delivered right from the source. It’s easier to follow than you might expect.


#####
What is a cPanel account?

It may seem like a silly question. If you use cPanel, you have an account. Simple as that, right?

Well, it actually gets a little more interesting. You may or may not be aware, but the account you log into cPanel with might actually be one of many that exist on a single server.

You can think of it as an apartment building. Each cPanel interface would exist as one apartment in the building. You can do anything you want inside the apartment, within the rules of the landlord, but you can’t change the building itself.

The landlord(s), however, makes sure that everyone is taken care of. Any building maintenance that needs to take place goes through the landlord.

In this analogy, the server admin is the landlord. And... as you’d expect, they have their own interface to manage the server, and to perform the necessary maintenance.

The administration interface is called WebHost Manager, or WHM. Administrators log into WHM using the root user for the system, which is the user that can do anything it wants on the server, with no restrictions.

    - Your cPanel account has the cPanel interface to help you access a designated portition of the server.

    - The server itself has WHM interface to help administrators access everything on server, including any accounts.

Some server admins may provide cPanel accounts with access to more than other servers’ admins; this is solely determined and implemented at the administrators' own discretion.

Who is my host?

So who really hosts my website?

There are countless amounts of cPanel users out there who may at times obtain access to the account or domain via the transfer of responsibilities, for one reason or another. 

Often, this process happens with very little information provided.

Then, at some point, the time comes that a change in their site necessitates assistance from the server administrator. 

The question arises: 
Who IS the server administrator?

In order to contact the admin, they need to first find out who their hosting provider is. This is not always as simple as it might seem.

One common mistake is to think that cPanel itself is the hosting provider. What cPanel actually provides is simply a piece of software that generates the interface that you see when you log into your account. 

Hosting providers purchase this software for use on their own servers. They are fully responsible for managing and administering their own servers.

cPanel has no ownership of the server or the accounts within it, even if it uses our software. As a result, all necessary changes to the server must be relayed through the hosting providers themselves.


One way that users can confirm this information is via the WHOIS records. Alternatively, the DNS servers’ domains can occasionally reveal this information.

Often, however, the results of these can still not definitively point to any particular hosting provider. Luckily, there are other ways to identify this information.

How to Identify your Hosting Provider
In our official Knowledgebase, we have a detailed article that provides steps you can take to determine who your domain’s actual hosting provider is, and what to do if you still come up empty.

You can find this article by clicking the button to the right.



##########CHECKPOINT#####

LINK: https://docs.cpanel.net/knowledge-base/cpanel-product/how-to-identify-your-hosting-provider/

How to Identify Your Hosting Provider

Many cPanel users contact WebPros International, LLC for technical support or other inquiries. But, in most cases, you should contact your hosting provider instead. This document will help you to identify your hosting provider.

You may want to contact your hosting provider for the following types of issues:

    - Forgotten usernames or passwords.
    - Purchases of additional storage space, bandwidth, or other resources.
    - Technical problems.
    - Payment or billing inquiries.

I thought that cPanel was my hosting provider?

Your hosting provider is the company that you pay to host your website. WebPros International, LLC is a software company that creates web hosting automation software. We then sell (license) this software to individual hosting companies. These companies then sell hosting space to individual customers. This is why you might see our logo or other information when you log in to your website.


Warning:

WebPros International, LLC does not own and cannot access the server that stores your website’s information. So, unfortunately, we cannot help you with most requests.

If you encounter any any flaws in our product, you must relay them to your hosting provider. We will then work directly with your hosting provider to resolve the issue.

##
Identify your hosting provider

To identify your hosting provider, perform the following actions:

    - Navigate to Whois Domain Lookup. This website allows you to search for a domain name’s hosting provider.
    
    Note:
    
    - While this article uses Whois Domain Lookup, other similar search sites also exist, such as Webbium’s webhostingdetector.com. WebPros International, LLC is not affiliated with either of these third-party sites.
#######END_CHECKPOINT#########

What do you mean by resources?

You may hear or read the term resources used in the context of servers, domains, hosting, or any other computing topic. This, in general, refers to the system components that allow a server to perform its tasks; usually memory/RAM availability, hard disk (both performance and disk space), CPU processing power, and bandwidth/throughput.

We mentioned earlier that a single cPanel & WHM server may manage any number of accounts within it. In order to avoid having a situation where one of those accounts ends up using ALL of the server’s resources (leaving the other accounts with nothing), each account is instead limited to a finite amount of resources, as defined by the administrator.

In the cPanel interface (which we’ll cover further within the cPanel Professional-tier of coursework) users are able to see exactly how much of and what kind of resources have been allocated to them. This can impact the potential speed, size, and complexity that sites within your account can reach.

If you have any confusion about what resources are allocated to your account, or if you suspect a discrepancy between what was stated and what you’re seeing in the account, get in touch with your hosting provider to ensure that you are getting the most out of your site.

Where can I find out more?

Being Resourceful

You may not have direct access to the system that your cPanel account lives on, but the more you understand about it, the better you’ll be at knowing how to effectively manage your cPanel account, and how to improve the site you host within it.

Take a look at our cPanel Professional video-based certification course for more on this topic. Until then, however, go through our online video tutorials(https://www.youtube.com/user/cpaneltv/videos), documentation(https://docs.cpanel.net/), and interface overview(https://docs.cpanel.net/cpanel/the-cpanel-interface/the-cpanel-interface/) to get a head start. 


#######
cPanel Fundamentals DNS
############

DNS

The World's  Address Book

DNS, meaning Domain Name System, is at its core, simply a way to convert easily-remembered names (domains) into not-so-easy to remember numbers. This is how we reach the websites on the internet that we all know and love. To most people, the idea of a website and the idea of a domain are basically synonymous. However, when talking about DNS, they actually become very different things.

A website is where you have the content. The words, the images, the videos, the files themselves. Whereas a domain is what you use to find the website.

In the URL bar, you see the domain (cpanel.net) and in the main window, underneath, you can see the website.

DNS is kind of like your phone contacts...

You probably remember that your friend is Pete, but you might not remember what his phone number is off the top of your head.

Luckily, we've got these handy smart phones that store all of our favorite contacts, right? You can just look up the name, push "Call", and it deals with the number part all on its own.

That's really all that DNS is doing, on a surface level. Behind the scene, though, it takes quite a bit of software and infrastructure to make the internet do what it does.

There are really two ways that DNS resolution can happen on a server: Either the record exists in a file on the server called the hosts file, or it gets handled by the DNS server software.

The DNS server software is the basis behind what is referred to as a nameserver. These take in requests for domain names on the internet, or on any network, and respond by telling them where to go to find them.

In the early days of the universe...

No, we don't need to go that far back. In the early days of the internet, there was so little content and so few computers connected to it, that each computer maintained a list of names in that single file we mentioned earlier, called the hosts file.

This file was used to list the domain name and the IP Address, identifying the location of that domain's files. Every time there was a change, each user would edit their respective hosts file with the new information.

Eventually of course, this continued to grow until it became apparent that requiring everyone to manually modify a file with every new domain or IP change was just not a reasonable solution.

And so, nameserver software was developed. Up until 1998, the location of the nameservers for each domain was solely handled by a company known as Network Solutions.

Things have changed, though! And for the better. The reality was, as it usually is, a little more complicated. It all lead to where we are now, which brings us to our next discussion...

So how does DNS work?

Alright, we've talked about how it works on the surface level (name → IP, etc.), but the stuff that's more important for our purposes is going to need to go a little deeper. We don't have to get down to the nitty-gritty, but let's get some basics out of the way, starting with resolvers.

A resolver, also called a resolving nameserver, is just a server that responds to DNS requests for domain names that it is not authoritative.

A resolver, also called a resolving nameserver, is just a server that responds to DNS requests for domain names that it is not authoritative.

So what qualifies as authoritative? When someone refers to a nameserver as being authoritative for a domain, they mean that the nameserver they're referring to is the best place to find the current info for that domain; the "official" source, so-to-speak.

For most domains, a WHOIS search would allow you to determine what nameservers are authoritative for it. These only exist in the WHOIS records because whoever registered that domain provided those nameservers along with it.

This means that the registrar (the place that the WHOIS record is retrieved from, and where the domain is registered) can, in effect, be one of the first points of potential failure if DNS resolution isn't working.

If other types of nameservers handle DNS requests for domains that they are authoritative for, then one needs to be able to find anything they are not authoritative for, which is typically the rest of the internet. This is where a resolver comes in.

So how does DNS work?

A resolver deals with things in one of two ways..

If it's a domain that the server has seen the request for previously, then it might already have its information saved (or cached), which lets it speed up the time it takes to respond by just looking in its own files. 

Using what's called the TTL (Time-To-Live) number, which defines the amount of time in seconds that a cached zone should be relied on before looking for changes, it determines whether it's time to check the internet for a newer zone. 

If the TTL has expired, the server then quickly determines whether a zone has been updated by contacting the nameservers provided within that zone, and specifically looking for a value called the serial number to see if that file is still up to date. 

If the serial number on that domain's nameservers has changed, then it's time to download a new copy to the cache. Otherwise, the local, cached copy is still good, and the server is ready to respond right then and there (without much fuss).

Bạn đã mô tả rất chi tiết và chính xác về cách hoạt động của hệ thống DNS và việc sử dụng bộ nhớ đệm để tăng tốc thời gian phản hồi. Bạn đã nêu ra những điểm chính sau:

1. Khi máy chủ DNS (nameserver) đã thấy yêu cầu cho một tên miền trước đó, nó có thể lưu thông tin về tên miền đó vào bộ nhớ đệm, giúp tăng tốc thời gian phản hồi cho lần truy vấn tiếp theo.

2. Thời gian tồn tại (TTL - Time To Live) của bản ghi trong bộ nhớ đệm xác định thời gian mà bản ghi đó có thể được sử dụng trước khi cần phải kiểm tra lại với các máy chủ tên miền authoritative.

3. Khi TTL hết hạn, máy chủ DNS sẽ nhanh chóng kiểm tra xem tên miền đó có được cập nhật mới hay không bằng cách kiểm tra số sê-ri (serial number) của bản ghi.

4. Nếu số sê-ri đã thay đổi, máy chủ sẽ tải bản sao mới về bộ nhớ đệm. Nếu không, bản sao cục bộ vẫn có thể được sử dụng mà không cần phải tải lại.

Bạn đã giải thích rất rõ ràng và chi tiết về cách thức hoạt động của cơ chế bộ nhớ đệm trong hệ thống DNS, giúp tăng tốc độ phản hồi mà vẫn đảm bảo tính chính xác của thông tin. Đây là một mô tả rất đầy đủ về chủ đề này.

Nếu máy chủ DNS kiểm tra trong bộ nhớ cache mà không tìm thấy thông tin về tên miền đó, thì sẽ xảy ra những việc sau:

1. Máy chủ DNS sẽ tiến hành truy vấn các máy chủ DNS cha (root servers) để tìm thông tin về tên miền đó.

2. Các máy chủ DNS cha sẽ cung cấp thông tin về máy chủ DNS authoritative (chịu trách nhiệm quản lý tên miền đó) cho máy chủ DNS đang truy vấn.

3. Máy chủ DNS sẽ tiếp tục truy vấn lên máy chủ DNS authoritative để lấy thông tin về tên miền.

4. Khi nhận được thông tin từ máy chủ DNS authoritative, máy chủ DNS sẽ lưu thông tin đó vào bộ nhớ cache của mình, với thời gian tồn tại (TTL) tương ứng.

5. Lần truy vấn tiếp theo cho tên miền đó, máy chủ DNS sẽ trả về thông tin từ bộ nhớ cache, thay vì phải truy vấn lại từ đầu.

Như vậy, nếu không tìm thấy thông tin về tên miền trong cache, máy chủ DNS sẽ thực hiện các bước truy vấn lên các máy chủ DNS cha và authoritative để lấy thông tin, đồng thời lưu thông tin đó vào cache cho lần sử dụng tiếp theo.

TTL (Time to Live) của một bản ghi DNS bắt đầu và kết thúc như sau:

1. Khi bản ghi được lấy từ máy chủ DNS authoritative:
   - Thời gian TTL bắt đầu khi bản ghi được trả về từ máy chủ DNS authoritative.
   - Giá trị TTL được xác định bởi máy chủ DNS authoritative và được truyền cùng với bản ghi.

2. Khi bản ghi được lưu trong bộ nhớ cache của máy chủ DNS:
   - Thời gian TTL được tính từ thời điểm bản ghi được lưu vào cache.
   - Mỗi lần máy chủ DNS trả về bản ghi từ cache, thời gian TTL còn lại sẽ giảm dần.

3. Khi thời gian TTL còn lại bằng 0:
   - Bản ghi đó sẽ hết hạn và bị loại khỏi cache.
   - Lần truy vấn tiếp theo sẽ khiến máy chủ DNS phải tìm lại thông tin từ đầu.

Giá trị TTL được thiết lập bởi chủ sở hữu tên miền và thể hiện thời gian mà bản ghi DNS có thể được sử dụng mà không cần phải truy vấn lại. Điều này giúp giảm tải cho hệ thống DNS và cải thiện hiệu suất truy cập.

Mỗi lần máy chủ DNS trả về bản ghi từ cache, thời gian TTL (Time to Live) còn lại của bản ghi sẽ giảm đi như sau:

1. Khi bản ghi được lấy từ máy chủ DNS authoritative:
   - Thời gian TTL ban đầu được xác định và truyền từ máy chủ authoritative.
   - Ví dụ, bản ghi có TTL là 3600 giây (1 giờ).

2. Khi bản ghi được lưu vào cache của máy chủ DNS:
   - Thời gian TTL bắt đầu đếm ngược từ thời điểm bản ghi được lưu vào cache.

3. Mỗi lần máy chủ DNS trả về bản ghi từ cache:
   - Thời gian TTL còn lại sẽ giảm đi bằng khoảng thời gian từ lần truy vấn trước đến lần truy vấn hiện tại.
   - Ví dụ, nếu bản ghi có TTL ban đầu là 3600 giây, và lần truy vấn trước đó cách lần truy vấn hiện tại 60 giây, thì TTL còn lại sẽ là 3540 giây.

Khi thời gian TTL còn lại bằng 0, bản ghi sẽ hết hạn và bị loại khỏi cache. Lần truy vấn tiếp theo sẽ buộc máy chủ DNS phải tìm lại thông tin từ đầu.

Việc giảm dần TTL giúp đảm bảo rằng thông tin trong cache luôn được cập nhật và chính xác. Điều này cải thiện hiệu suất và tính ổn định của hệ thống DNS.


CHECK YOUR MEMORY

What does TTL (Time-To-Live) define?

The amount of time in seconds that a zone is cached

If it's a domain that the server hasn't seen before, however, it performs what's called a recursive query. 

These kinds of queries are a little taxing to perform constantly, which is why every nameserver isn't a resolver, and why your ISP or data center are often the ones who provide you with the resolver IP addresses they suggest that you use. 

Recursive queries are a bit more taxing because they go all the way to the top in order to find the answer. 

Root Nameservers

To kick it off, it has to contact the root nameservers. These root nameservers effectively store the internet...as far as DNS is concerned at least. Without these, the internet would not be what it is today. The information we get here will allow us to get a little closer to the answer we're looking for by directing us to the TLD nameserver.

TLD Nameservers

Now we're getting the information we want. We've arrived at the .com TLD nameservers, which can look up the domain we're requesting, and direct us to the authoritative nameservers for that domain.

Authoritative Nameservers

The authoritative nameservers for a domain will be the official place to find the IP address we want to end up at. This IP address, in turn, leads us to our destination...

Web Servers

The web server is where we want to land. Here, the web site's content is stored and ready to serve out to our browser.



    Root Nameservers:
        Đây là những máy chủ DNS quan trọng nhất, nằm ở cấp độ cao nhất của hệ thống DNS.
        Chúng lưu trữ thông tin về các Top-Level Domain (TLD) như .com, .org, .net, v.v.
        Khi một client muốn truy vấn một tên miền, nó sẽ bắt đầu từ các root nameserver này.
        Các root nameserver sẽ cung cấp thông tin về vị trí của máy chủ TLD nameserver tương ứng.

    TLD Nameservers:
        Là những máy chủ DNS chịu trách nhiệm về các Top-Level Domain (TLD) như .com, .org, .net, v.v.
        Khi client nhận được thông tin từ root nameserver, nó sẽ liên hệ với TLD nameserver tương ứng.
        TLD nameserver sẽ cung cấp thông tin về vị trí của máy chủ authoritative nameserver cho tên miền đang được truy vấn.

    Authoritative Nameservers:
        Là những máy chủ DNS được chủ sở hữu tên miền cấu hình và quản lý.
        Chúng lưu trữ thông tin chính xác và mới nhất về tên miền.
        Khi client liên hệ với TLD nameserver, nó sẽ được chuyển hướng đến authoritative nameserver để lấy thông tin cuối cùng.

Sau khi đã truy vấn thành công các máy chủ DNS (root, TLD và authoritative) để xác định được địa chỉ IP của tên miền mong muốn, bước tiếp theo là liên hệ với web server đó để lấy nội dung trang web.

Vai trò của web server trong quy trình này bao gồm:

    Lưu trữ nội dung (mã HTML, tệp CSS, tập JavaScript, hình ảnh, v.v.) của trang web.

    Lắng nghe và xử lý các yêu cầu HTTP/HTTPS từ trình duyệt của người dùng.

    Lấy nội dung tương ứng với yêu cầu và gửi trả về trình duyệt.

    Thực hiện các xử lý động (nếu có) như tạo nội dung động, tích hợp dữ liệu từ cơ sở dữ liệu, v.v.


Summary

The path to get from a domain to a web server is: Root Nameservers > TLD Nameservers > Authoritative Nameservers > Web Server.

What is a TLD?
TLD stands for top-level domain. That doesn't help much if you're not familiar with DNS, though, so I'll explain. To keep it simple - when you hear people talk about TLDs, they'e usually referring to the last part of a domain: .com, .net, .org, .gov, .ninja, .,tv, .anything; these are handled by TLD nameservers, with help from standards organizations to determine who gets to use which TLDs and where. So, if our domain ends in .com, the root nameserver will tell us where to find the TLD nameservers that handle all .com domains.

And this is still just scratching the surface. However, it does give you a good picture of what's going on across the internet whenever a domain is used in any context (not just browsers). 

Let's bring it back around now to something that you'll almost certainly deal with at some point, if you're handling domains on your cPanel account.

What is a DNS Zone?

 To throw another analogy at you, it's like getting someone's business card. With the card, you've got this one piece of paper that has their name, where they're located, and how to contact them.

A zone represents, in a way, that domain's "business card", and it can contain these basics, but it can also contain any amount of additional domain information that the domain owner wants to include.

The structure of these zones is important to understand, both in terms of reading them, changing them, or simply querying for them. Ultimately, the key component of a domain's zone file is its records.

##
DNS Records
No, we don't mean music records...

There are a variety of different records you can encounter in a domain's DNS zone, but there are a few that you'll find in just about every zone within a cPanel server:

A , MX , NS , CNAME

When written out in a DNS Zone, most records show up in the syntax as displayed below. 

name IN RECORDTYPE destination

The record type determines how the destination is defined, and in what situations it's used.

An A record instructs the name to go to an IP Address. The intent is that, when you look for that particular name, you then know the correct IP address to find the content. This might be a full domain name, or it might be part of one. Let's look at an example:

cpanel.com. IN A 123.15.12.6
ftp         IN A 123.15.12.6

Take a Second Look:
Notice anything different about the names in these two records? That period at the end of cpanel.com is not a typo. It's performing literally the same role it does in a sentence's structure - it identifies the end of that name. So what happens to ftp then? Well, the zone says that ftp is not the end of that name, so the nameserver knows that it should then append the base domain of that zone, which is cpanel.com in this case. That means that, in this zone, this record entry: ftp IN A 208.74.123.58 ...would be the same as this record entry: ftp.cpanel.com. IN A 208.74.123.58

Bạn hoàn toàn đúng. Để hiểu sâu hơn về những điểm khác biệt trong hai bản ghi này, hãy cùng tìm hiểu:

1. cpanel.com. IN A 123.15.12.6
- Tên miền ở đây là "cpanel.com." với dấu chấm "." ở cuối. Dấu chấm này được gọi là "dấu chấm rút gọn" (trailing dot) và có ý nghĩa như sau:
- Nó chỉ ra rằng "cpanel.com" là tên miền đầy đủ, không cần thêm bất kỳ phần nào nữa.
- Khi không có dấu chấm rút gọn, trình phân giải DNS sẽ tự động thêm tên miền cấp cao nhất (Top-Level Domain - TLD) vào tên miền.

2. ftp IN A 123.15.12.6
- Ở bản ghi thứ hai, không có dấu chấm rút gọn ở cuối tên "ftp".
- Điều này có nghĩa là "ftp" không phải là tên miền đầy đủ, mà chỉ là một subdomain (tên miền con) của tên miền chính.
- Khi không có dấu chấm rút gọn, trình phân giải DNS sẽ tự động thêm tên miền cấp cao nhất (cpanel.com) vào, trở thành "ftp.cpanel.com".

Như vậy, sự khác biệt chính là việc sử dụng dấu chấm rút gọn để chỉ ra tên miền đầy đủ, hoặc không dùng dấu chấm để cho trình phân giải DNS biết đây chỉ là subdomain cần được thêm tên miền chính vào.


A CNAME record on the other hand, is instructing a name to go to another name. If you've interacted with systems or applications that utilize "aliases", the premise is familiar (Whenever this name is asked for, do the same thing that this other name does").

A common example is in the handling of the www portion of a domain. People look for domains in all kinds of different ways. Browsers nowadays know how to handle it regardless of how you type it, but at one point in time it was common to require the full www.domain.com in order to find certain websites. That's no longer the case, but that www is still important to include for compatibility.




